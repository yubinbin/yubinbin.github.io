import{_ as i,c as a,a2 as l,o as n}from"./chunks/framework.CqbvlPrP.js";const t="/assets/img/program/sql/mysql%E4%B8%AD%E4%BD%BF%E7%94%A8group_concat%E5%A4%9A%E8%A1%8C%E5%90%88%E5%B9%B6%E4%B8%80%E8%A1%8C/1.png",h="/assets/img/program/sql/mysql%E4%B8%AD%E4%BD%BF%E7%94%A8group_concat%E5%A4%9A%E8%A1%8C%E5%90%88%E5%B9%B6%E4%B8%80%E8%A1%8C/2.png",p="/assets/img/program/sql/mysql%E4%B8%AD%E4%BD%BF%E7%94%A8group_concat%E5%A4%9A%E8%A1%8C%E5%90%88%E5%B9%B6%E4%B8%80%E8%A1%8C/3.png",y=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"programming/sql/mysql中使用group_concat多行合并一行.md","filePath":"programming/sql/mysql中使用group_concat多行合并一行.md"}'),k={name:"programming/sql/mysql中使用group_concat多行合并一行.md"};function e(E,s,r,d,g,o){return n(),a("div",null,s[0]||(s[0]=[l(`<h3 id="mysql中将多行数据合并成一行数据" tabindex="-1">mysql中将多行数据合并成一行数据 <a class="header-anchor" href="#mysql中将多行数据合并成一行数据" aria-label="Permalink to &quot;mysql中将多行数据合并成一行数据&quot;">​</a></h3><p>一个字段可能对应多条数据，用mysql实现将多行数据合并成一行数据</p><p>例如：一个活动id（activeId）对应多个模块名（modelName）,按照一般的sql语句：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> am</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">activeId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">modelName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> activemodel am </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  model m </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> am</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">modelId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">modelId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ORDER BY</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> am</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">activeId</span></span></code></pre></div><p>查询出的列表为图1所示： <img src="`+t+`" alt="图一"> 图1</p><p>修改过后的sql语句，查询后如图2所示：</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> am</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">activeId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,GROUP_CONCAT(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">modelName</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> SEPARATOR </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;,&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) modelName</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">FROM</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> activemodel am </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">JOIN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> model m </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">ON</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> am</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">modelId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">modelId</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">WHERE</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> m</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">valid</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">GROUP BY</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> am</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">activeId</span></span></code></pre></div><h4 id="需注意" tabindex="-1">需注意： <a class="header-anchor" href="#需注意" aria-label="Permalink to &quot;需注意：&quot;">​</a></h4><ol><li>GROUP_CONCAT（）中的值为你要合并的数据的字段名; SEPARATOR 函数是用来分隔这些要合并的数据的； &#39; &#39;中是你要用哪个符号来分隔；</li><li>必须要用GROUP BY 语句来进行分组管理，不然所有的数据都会被合并成一条记录，如图3 <img src="`+h+'" alt="图一"> 图2 <img src="'+p+'" alt="图一"> 图3</li></ol>',9)]))}const c=i(k,[["render",e]]);export{y as __pageData,c as default};
